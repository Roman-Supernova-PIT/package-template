<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Documenting your Package &#8212; Roman Supernova PIT Python Packaging Guide  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=5a6b8c39" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=4c948548" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=fd6eb6e6"></script>
    <script src="_static/sphinx_highlight.js?v=6ffebe34"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Testing your package" href="tests.html" />
    <link rel="prev" title="Minimal package layout" href="minimal.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/logo_black_filled_sm.png" alt="Logo" />
    
  </a>
</p>



<p class="blurb">Roman Supernova PIT Python packaging guide and template.</p>






<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="minimal.html">Minimal package layout</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Documenting your Package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#docstrings">Docstrings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#narrative-documentation">Narrative Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#declaring-dependencies-for-documentation">Declaring dependencies for documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#previewing-your-documentation">Previewing Your Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#automatically-deploying-your-documentation-to-github-pages">Automatically deploying your documentation to github pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="#add-plots-to-your-documentation">Add plots to your documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tests.html">Testing your package</a></li>
<li class="toctree-l1"><a class="reference internal" href="checklist.html">Checklist for creating a PR</a></li>
<li class="toctree-l1"><a class="reference internal" href="tox.html">Running Commands with Tox</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions.html">Compiled C/Cython extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="releasing.html">Releasing Your Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripts.html">Command-line scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Including data in your package</a></li>
<li class="toctree-l1"><a class="reference internal" href="ci.html">Continuous Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced/index.html">Advanced Topics</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="minimal.html" title="previous chapter">Minimal package layout</a></li>
      <li>Next: <a href="tests.html" title="next chapter">Testing your package</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="minimal.html" title="Previous document">Minimal package layout</a>
        </li>
        <li>
          <a href="tests.html" title="Next document">Testing your package</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="documenting-your-package">
<span id="documentation"></span><h1>Documenting your Package<a class="headerlink" href="#documenting-your-package" title="Link to this heading">¶</a></h1>
<p>There are two main ways to document your project, both of
which are essential: <a class="reference internal" href="#docstrings"><span class="std std-ref">Docstrings</span></a> and <a class="reference internal" href="#narrative"><span class="std std-ref">Narrative Documentation</span></a>.</p>
<section id="docstrings">
<span id="id1"></span><h2>Docstrings<a class="headerlink" href="#docstrings" title="Link to this heading">¶</a></h2>
<p>First, public functions, methods, and classes
in your package should include <em>docstrings</em>, which are strings
attached to those objects which the user can access interactively
using e.g. <code class="docutils literal notranslate"><span class="pre">help()</span></code> and which can also be retrieved by automated
tools. See <a class="reference external" href="https://www.python.org/dev/peps/pep-0257/">PEP 257 - Docstring Conventions</a>
for a high-level overview of what docstrings are. We recommend adopting
the <a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html">numpydoc</a>
format for docstrings. An example of such a docstring is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">foo</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="n">long_var_name</span><span class="o">=</span><span class="s1">&#39;hi&#39;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A one-line summary that does not use variable names.</span>

<span class="sd">    Several sentences providing an extended description. Refer to</span>
<span class="sd">    variables using back-ticks, e.g. `var`.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    var : int</span>
<span class="sd">        The type above can either refer to an actual Python type</span>
<span class="sd">        (e.g. ``int``), or describe the type of the variable in more</span>
<span class="sd">        detail, e.g. ``(N,) ndarray`` or ``array_like``.</span>
<span class="sd">    long_var_name : {&#39;hi&#39;, &#39;ho&#39;}, optional</span>
<span class="sd">        Choices in brackets, default first when optional.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    out : type</span>
<span class="sd">        Explanation of `out`.</span>
<span class="sd">    &quot;&quot;&quot;</span>
</pre></div>
</div>
<p>These docstrings should be included in the Python files alongside the Python
objects they document.</p>
</section>
<section id="narrative-documentation">
<span id="narrative"></span><h2>Narrative Documentation<a class="headerlink" href="#narrative-documentation" title="Link to this heading">¶</a></h2>
<p>Second, you should write a set of narrative documentation which functions as a
user guide, such as <a class="reference external" href="http://docs.astropy.org">http://docs.astropy.org</a> or <a class="reference external" href="http://docs.sunpy.org">http://docs.sunpy.org</a>.
This package template will create the basis for this.  You will find
that in the <code class="docutils literal notranslate"><span class="pre">docs</span></code> directory under the top level of your repo.  You
will want to edit the following files to make them correct for your
package:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">installation.rst</span></code> – with luck, the stuff that is there already is
sufficient, but you should review it.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">usage.rst</span></code> – This is where you will write your main documentation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index.rst</span></code> – This one may be OK as is, but you will need to edit
it if your documentation is long (see below).</p></li>
</ul>
<p>If your documentation is short enough, you can write it all on the
<code class="docutils literal notranslate"><span class="pre">usage.rst</span></code> page.  If it’s long, you might want to divide it into
sections.  Give each section its own <code class="docutils literal notranslate"><span class="pre">.rst</span></code> file.  Then, list the
files you’ve added underneath the <code class="docutils literal notranslate"><span class="pre">..tocktree::</span></code> directive in the file
<code class="docutils literal notranslate"><span class="pre">index.rst</span></code>.</p>
<p>All of these files are in <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/index.html">Sphinx reStructuredText format</a>.
If you haven’t used Sphinx before, you maybe interested in their
<a class="reference external" href="http://www.sphinx-doc.org/en/master/usage/quickstart.html">Getting Started</a> guide.</p>
<section id="including-docstrings-in-the-narrative-documentation">
<h3>Including docstrings in the narrative documentation<a class="headerlink" href="#including-docstrings-in-the-narrative-documentation" title="Link to this heading">¶</a></h3>
<p>As part of the narrative documentation, it is also common practice to include an
Application programming interface (API) page which lists the available classes,
methods, and functions in your package. Thankfully, if you’ve defined your docstrings
as described in <a class="reference internal" href="#docstrings"><span class="std std-ref">Docstrings</span></a>, then this can be automated using the
<a class="reference external" href="https://sphinx-automodapi.readthedocs.io">sphinx-automodapi</a>
package. See the documentation of that package for more details, but a
repo created from this package template should already be set up to
automatically include this.</p>
<p>First, you need to make sure to declare which classes and variables you want to include in the documentation.  In each source file, make sure to include a variable <code class="docutils literal notranslate"><span class="pre">__all__</span></code> which is a list of classes and functions that you want documented.  (Really, this is a list of things that get imported from your package if you do <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">my_module</span> <span class="pre">import</span> <span class="pre">*</span></code>; see the <a class="reference external" href="https://docs.python.org/3/tutorial/modules.html">Python modules tutorial</a>.  Of course, you should <em>never</em> do <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">&lt;anything&gt;</span> <span class="pre">import</span> <span class="pre">*</span></code>, but Sphinx does it to find which things in your module need to be documented.)  For example, <a class="reference external" href="https://github.com/roman-Supernova-PIT/snappl">snappl</a> might have the following at the top of <code class="docutils literal notranslate"><span class="pre">snappl/image.py</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;Image&#39;</span><span class="p">,</span> <span class="s1">&#39;Numpy2dImage&#39;</span><span class="p">,</span> <span class="s1">&#39;FITSImage&#39;</span><span class="p">,</span> <span class="s1">&#39;OpenUniverse2024FITSImage&#39;</span><span class="p">,</span>
            <span class="s1">&#39;ManualFITSImage&#39;</span><span class="p">,</span> <span class="s1">&#39;RomanDatamodelImage&#39;</span> <span class="p">]</span>
</pre></div>
</div>
<p>to indicate the classes that should be documented.</p>
<p>If you don’t include an <code class="docutils literal notranslate"><span class="pre">__all__</span></code> variable, then <em>way too much</em> gets included in the documentation; everything you import with something like <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">foo</span> <span class="pre">import</span> <span class="pre">bar</span></code> will be included as part of your package’s documentation, which of course isn’t right.  You may also want to omit some internal functions that aren’t intended for use outside of the module.</p>
<p>In order to actually include the API documentation, you need to put some
directives somewhere in your documentation.  You may wish to put this in
<code class="docutils literal notranslate"><span class="pre">docs/index.rst</span></code>, or (better) you may wish to make a separate <code class="docutils literal notranslate"><span class="pre">docs/api.rst</span></code>
documentation file that you then link to in <code class="docutils literal notranslate"><span class="pre">index.rst</span></code> by just adding
the line <code class="docutils literal notranslate"><span class="pre">api.rst</span></code> after <code class="docutils literal notranslate"><span class="pre">changes.rst</span></code> underneath the
<code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">toctree::</span></code> directive.</p>
<p>Wherever you put your API documentation, for each module whose
documentation you want to include, add a line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span><span class="n">automodapi</span><span class="p">::</span> <span class="n">modulename</span><span class="o">.</span><span class="n">submodulename</span>
</pre></div>
</div>
<p>So, if your module (i.e. the top level thing you <code class="docutils literal notranslate"><span class="pre">import</span></code>) is
<code class="docutils literal notranslate"><span class="pre">snpit_utils</span></code>, and you want to include documentation for
<code class="docutils literal notranslate"><span class="pre">snpit_utils.config</span></code>, you’d just put the line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span><span class="n">automodapi</span><span class="p">::</span> <span class="n">snpit_utils</span><span class="o">.</span><span class="n">config</span>
</pre></div>
</div>
<p>where you want it to show up.</p>
<p><strong>WARNING</strong> : If you build the documentation locally (see <a class="reference internal" href="#previewing-docs"><span class="std std-ref">Previewing
your documentation</span></a>), it will create a subdirectory underneath <code class="docutils literal notranslate"><span class="pre">docs</span></code>
with a <code class="docutils literal notranslate"><span class="pre">.rst</span></code> file for each class or function whose api documentation
was generated.  Do <em>not</em> add these to your github archive!  You may
wish to edit the <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> file at the root of your checkout to add
these working directories.</p>
</section>
</section>
<section id="declaring-dependencies-for-documentation">
<span id="previewing-docs"></span><h2>Declaring dependencies for documentation<a class="headerlink" href="#declaring-dependencies-for-documentation" title="Link to this heading">¶</a></h2>
<p>To make it easier for contributors to get set up with the dependencies
required to build the documentation, as well as to make it easier to
configure automated builds (whether for <a class="reference internal" href="#readthedocs"><span class="std std-ref">ReadTheDocs</span></a>
or <a class="reference internal" href="tox.html#tox"><span class="std std-ref">tox</span></a>), you should define an <code class="docutils literal notranslate"><span class="pre">[project.optional-dependencies]</span></code> section in
your <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> file named <code class="docutils literal notranslate"><span class="pre">docs</span></code> which lists the dependencies
required to build the documentation (not including dependencies already
mentioned in <code class="docutils literal notranslate"><span class="pre">dependencies</span></code>):</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[project.optional-dependencies]</span>
<span class="n">docs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="s2">&quot;sphinx&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;sphinx-automodapi&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;numpydoc&quot;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
<p>This will then allow contributors to type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span><span class="p">[</span><span class="n">docs</span><span class="p">]</span>
</pre></div>
</div>
<p>to install the package in developer/editable mode along with the documentation
dependencies.</p>
</section>
<section id="previewing-your-documentation">
<h2>Previewing Your Documentation<a class="headerlink" href="#previewing-your-documentation" title="Link to this heading">¶</a></h2>
<p>You should make sure you can get this to work.  If you can’t, then it’s likely not to work on github actions either.  (Getting it to work locally is a probably-necessary, but not sufficient, condition for it working on github actions.)</p>
<section id="getting-set-up-to-build-your-documentation">
<h3>Getting set up to build your documentation<a class="headerlink" href="#getting-set-up-to-build-your-documentation" title="Link to this heading">¶</a></h3>
<p>If you want to build your documentation locally, you need to make sure
you’re in an environment with the right packages installed.  This
includes the package whose documentation you want to build.  You may
just do this in the environment you’re working in.  However, if you want
to have a contained environment to do this in (e.g. if you don’t want to
install the current state of the package you’re working on into your
environment), then you can make a new environment at the top level of
your checkout with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">mvenv</span> <span class="n">venv</span>
<span class="n">source</span> <span class="n">venv</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
</pre></div>
</div>
<p>The “activate” command puts you in that environment; your prompt should
change so that it has <code class="docutils literal notranslate"><span class="pre">(venv)</span></code> at the beginning to let you know you’re
in this environment.  When you’re ready to leave it, just run
<code class="docutils literal notranslate"><span class="pre">deactivate</span></code>.</p>
<p>To install the things you need, run, at the top level of your checkout:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span><span class="p">[</span><span class="n">build</span><span class="p">,</span><span class="n">docs</span><span class="p">]</span>
</pre></div>
</div>
<p>Next, install the current working version of your package into your
current environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
</section>
<section id="building-and-viewing-the-documentation">
<h3>Building and viewing the documentation<a class="headerlink" href="#building-and-viewing-the-documentation" title="Link to this heading">¶</a></h3>
<p>Now that you’re set up to build the documentation, just go into the
<code class="docutils literal notranslate"><span class="pre">docs</span></code> subdirectory of your checkout and run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">html</span>
</pre></div>
</div>
<p>That will create a subdirectory <code class="docutils literal notranslate"><span class="pre">_build/html</span></code> underneath the <code class="docutils literal notranslate"><span class="pre">docs</span></code>
directory.  Open the file <code class="docutils literal notranslate"><span class="pre">index.html</span></code> in that subdirectory in your
web browser, and you should see a preview of your documentation.</p>
<p>(<strong>NOTE</strong>: In my experience, sometimes when I run this, I get an error,
and then when I run it a second time, the error goes away.  Also try:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">clean</span>
<span class="n">make</span> <span class="n">html</span>
</pre></div>
</div>
<p>and see if that works.)</p>
</section>
<section id="if-it-doesn-t-work-because-of-a-missing-import">
<h3>If it doesn’t work because of a missing import<a class="headerlink" href="#if-it-doesn-t-work-because-of-a-missing-import" title="Link to this heading">¶</a></h3>
<p>It may be that the requirements listed in <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> are not sufficient to actually run your package, or even import modules from your package.  This is the case for <a class="reference external" href="https://github.com/Roman-Supernova-PIT/phrosty">phrosty</a>, for example, which requires a version of <code class="docutils literal notranslate"><span class="pre">roman_imsim</span></code> pulled from Troxel’s git repository, not the one that’s on PyPI.  That repository is in the <a class="reference external" href="https://github.com/Roman-Supernova-PIT/environment">SNPIT docker image</a> (which is, at least currently, the only way it’s possible to run, at least, phrosty).</p>
<p>If this is the case for your package, then you have more work to do in order to get your docs to build.  Edit the file <cite>docs/conf.py</cite>, and search for “Getting docs to build outside the SNPIT docker image”.  Try uncommenting the few lines underneath that.  That adds your repo to the python path, so it will be able to find your module there even if it’s not installed.  It also adds <code class="docutils literal notranslate"><span class="pre">roman_imsim</span></code> to a list of modules that sphinx knows aren’t importable, and so won’t try to import.  You may need to add other things to the <code class="docutils literal notranslate"><span class="pre">things_to_mock</span></code> list.</p>
</section>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Link to this heading">¶</a></h2>
<p>As an example, ROB PUT IN SNPIT_UTILS EXAMPLE</p>
</section>
<section id="automatically-deploying-your-documentation-to-github-pages">
<span id="readthedocs"></span><h2>Automatically deploying your documentation to github pages<a class="headerlink" href="#automatically-deploying-your-documentation-to-github-pages" title="Link to this heading">¶</a></h2>
<p>The package template includes a github workflow that will automatically use sphinx to build documentation from things in your <code class="docutils literal notranslate"><span class="pre">docs</span></code> subdirectory.  The results are put on a branch, <code class="docutils literal notranslate"><span class="pre">gh-pages</span></code>, in your repo.  (Do <em>not</em> merge this branch with your main branch, or any other working branch, because all of your code has been deleted from it!)</p>
<p>To enable automatic deployment, go to the settings for your github archive.  In the left sidebar, in the “Code and automation” section, find “Pages”.  Under the section “Branch” on that page, select the branch “gh-pages”.  (If that branch is not there, then your documentation failed to automatically build.  See “Debugging…” below.  Finally, click “Save”.</p>
<img alt="github pages activation" src="_images/github_pages_activate.png" />
<p>Thereafter, next time you merge to main (or otherwise cause the documentation deployment workflow to run), the documentation should be updated at <code class="docutils literal notranslate"><span class="pre">https://roman-supernova-pit.github.io/&lt;your_repo_name&gt;/</span></code>.</p>
<section id="debugging-automatic-documentation-on-github-pages">
<h3>Debugging automatic documentation on github pages<a class="headerlink" href="#debugging-automatic-documentation-on-github-pages" title="Link to this heading">¶</a></h3>
<p>At your repo home page, click on “Actions” at the top.  Find in the let sidebar, under “Actions”, “Deploy Package Documentation to…”.  Click on that link.  That will show you all the times this workflow has been run.  You can click on a run to see any errors, and you can manually launch this workflow on any branch.  <strong>WARNING</strong>: if you launch this workflow on a branch other than <code class="docutils literal notranslate"><span class="pre">main</span></code>, that branch’s documentation is what will be deployed to github pages!  While in development and test mode, this is not a big deal, but as we get close to production we’re going to want to be very careful with this.</p>
</section>
</section>
<section id="add-plots-to-your-documentation">
<span id="plot-directive"></span><h2>Add plots to your documentation<a class="headerlink" href="#add-plots-to-your-documentation" title="Link to this heading">¶</a></h2>
<p>A plot is worth <em>many</em> words, and sometimes documentation
can demonstrate the uses and advantages of using a given
package much more efficiently than narrative docs. Matplotlib,
for example, has made this quite straightforward with the
<a class="reference external" href="https://matplotlib.org/stable/api/sphinxext_plot_directive_api.html">plot directive</a>.</p>
<p>To add a plot to your Sphinx documentation, add the following string to the
<code class="docutils literal notranslate"><span class="pre">extensions</span></code> list in your <code class="docutils literal notranslate"><span class="pre">docs/conf.py</span></code> file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">extensions</span> <span class="o">=</span> <span class="p">[</span>
    <span class="o">...</span>  <span class="c1"># preserve your other extensions here, then add:</span>
    <span class="s2">&quot;matplotlib.sphinxext.plot_directive&quot;</span>
<span class="p">]</span>
</pre></div>
</div>
<p>To make use of this extension, you will also need to add <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> to your
<code class="docutils literal notranslate"><span class="pre">tox.ini</span></code> file:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="na">deps</span><span class="w"> </span><span class="o">=</span>
<span class="w">   </span><span class="c1"># preserve your other deps here, then add:</span>
<span class="w">   </span><span class="na">matplotlib</span>
</pre></div>
</div>
<p>Now you can add plots to your Sphinx docs by adding a block like
the following to your narrative docs:</p>
<div class="highlight-rst notranslate"><div class="highlight"><pre><span></span>Here&#39;s a plot:

<span class="p">..</span> <span class="ow">plot</span><span class="p">::</span>

    import matplotlib.pyplot as plt

    x, y = [1, 2, 3], [4, 5, 6]

    plt.figure()
    plt.plot(x, y)
</pre></div>
</div>
<p>By default, sphinx and matplotlib will render the figure defined by the
Python code in the <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">plot::</span></code> block, without the source code. Full documentation
for the configuration settings for the plot directive can be found in the
<a class="reference external" href="https://matplotlib.org/stable/api/sphinxext_plot_directive_api.html">matplotlib docs</a>.</p>
</section>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="minimal.html" title="Previous document">Minimal package layout</a>
        </li>
        <li>
          <a href="tests.html" title="Next document">Testing your package</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &#169;2024, Roman Supernova PIT.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 9.0.4</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/docs.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>